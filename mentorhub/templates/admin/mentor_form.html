<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if mentor %}Edit Mentor{% elif confirm_delete %}Delete Mentor{% else %}Add Mentor{% endif %}</title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/admin.css' %}">
</head>
<body>
    <div class="layout">
        {% include 'admin/partials/sidebar.html' %}
        <main class="content">
        <a href="{% url 'admin_mentors' %}" class="btn-link">‚Üê Back to Mentors</a>

        {% if confirm_delete %}
            <h1>Delete Mentor</h1>
            <div class="section">
                <p>Are you sure you want to delete mentor <strong>{{ mentor.full_name }}</strong>? This removes the mentor profile but keeps the user account.</p>
                <form method="post">
                    {% csrf_token %}
                    <div class="actions">
                        <button type="submit" class="btn btn-danger">Delete Mentor</button>
                        <a href="{% url 'admin_mentors' %}" class="btn-link">Cancel</a>
                    </div>
                </form>
            </div>
        {% else %}
            <h1>{% if mentor %}Edit Mentor{% else %}Add Mentor{% endif %}</h1>

            <div class="section">
                {% if not mentor %}
                <div class="note">
                    <p>When you save, a user account will be auto-created for this mentor.</p>
                </div>
                {% endif %}

                <form method="post">
                    {% csrf_token %}
                    
                    <h2>Mentor Profile</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Full Name *</label>
                            <input type="text" name="full_name" value="{% if mentor %}{{ mentor.full_name }}{% endif %}" required>
                        </div>
                        <div class="form-group">
                            <label>Headline *</label>
                            <input type="text" name="headline" value="{% if mentor %}{{ mentor.headline }}{% endif %}" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Bio</label>
                        <textarea name="bio">{% if mentor %}{{ mentor.bio }}{% endif %}</textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Location</label>
                            <input type="text" name="location" value="{% if mentor %}{{ mentor.location }}{% endif %}">
                        </div>
                        <div class="form-group">
                            <label>Years of Experience</label>
                            <input type="number" min="0" name="years_of_experience" value="{% if mentor %}{{ mentor.years_of_experience }}{% else %}0{% endif %}">
                        </div>
                    </div>

                    <div class="form-group">
                        <label><strong>Select Skills</strong></label>
                        <div class="skills">
                            {% for skill in skills %}
                                <label>
                                    <input type="checkbox" name="skills" value="{{ skill.id }}"
                                        {% if mentor and skill in mentor.skills.all %}checked{% endif %}>
                                    {{ skill.name }}
                                </label>
                            {% endfor %}
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Hourly Rate ($)</label>
                            <input type="number" step="0.01" name="hourly_rate" value="{% if mentor %}{{ mentor.hourly_rate }}{% else %}0{% endif %}">
                        </div>
                        <div class="form-group">
                            <label>Session Duration (minutes)</label>
                            <input type="number" min="30" max="180" step="15" name="session_duration" value="{% if mentor %}{{ mentor.session_duration }}{% else %}60{% endif %}">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Available For</label>
                        <input type="text" name="available_for" value="{% if mentor %}{{ mentor.available_for }}{% endif %}">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>LinkedIn URL</label>
                            <input type="text" name="linkedin_url" value="{% if mentor %}{{ mentor.linkedin_url }}{% endif %}">
                        </div>
                        <div class="form-group">
                            <label>GitHub URL</label>
                            <input type="text" name="github_url" value="{% if mentor %}{{ mentor.github_url }}{% endif %}">
                        </div>
                    </div>

                    <div class="actions">
                        <button type="submit" class="btn btn-primary">Save</button>
                        <a href="{% url 'admin_mentors' %}" class="btn-link">Cancel</a>
                    </div>
                </form>
            </div>
        {% endif %}
        </main>
    </div>
</body>
</html>


