<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if mentor %}Edit Mentor{% elif confirm_delete %}Delete Mentor{% else %}Add Mentor{% endif %}</title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/home.css' %}">
    <style>
        body { background: #f5f5f5; }
        .container { max-width: 800px; margin: 20px auto; background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,0.06); }
        .form-row { display:flex; gap:16px; }
        .form-row .form-group { flex:1; }
        label { display:block; margin:10px 0 6px; color:#333; }
        input[type="text"], input[type="email"], input[type="number"], input[type="password"], select, textarea { width:100%; padding:10px; border:1px solid #ddd; border-radius:4px; }
        textarea { min-height: 100px; }
        .actions { margin-top: 16px; display:flex; gap:10px; }
        .btn { padding:8px 12px; border:none; border-radius:4px; cursor:pointer; }
        .btn-primary { background:#007bff; color:#fff; }
        .btn-danger { background:#dc3545; color:#fff; }
        .btn-link { text-decoration:none; color:#007bff; }
        .note { background:#eef; padding:10px; border-radius:6px; }
        .skills { display:grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap:8px; }
    </style>
    {% csrf_token %}
    {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}
</head>
<body>
    <div class="container">
        <div><a href="{% url 'admin_mentors' %}" class="btn-link">‚Üê Back to Mentors</a></div>

        {% if confirm_delete %}
            <h1>Delete Mentor</h1>
            <p>Are you sure you want to delete mentor <strong>{{ mentor.full_name }}</strong>? This removes the mentor profile but keeps the user account.</p>
            <form method="post">{% csrf_token %}
                <div class="actions">
                    <button type="submit" class="btn btn-danger">Delete</button>
                    <a href="{% url 'admin_mentors' %}" class="btn-link">Cancel</a>
                </div>
            </form>
        {% else %}
            <h1>{% if mentor %}Edit Mentor{% else %}Add Mentor{% endif %}</h1>

            <form method="post">{% csrf_token %}
                {% if not mentor %}
                <div class="note">
                    <p>When you save, a user account will be auto-created for this mentor.</p>
                </div>
                {% endif %}

                <h3>Mentor Profile</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" name="full_name" value="{% if mentor %}{{ mentor.full_name }}{% endif %}">
                    </div>
                    <div class="form-group">
                        <label>Headline</label>
                        <input type="text" name="headline" value="{% if mentor %}{{ mentor.headline }}{% endif %}">
                    </div>
                </div>
                <div class="form-group">
                    <label>Bio</label>
                    <textarea name="bio">{% if mentor %}{{ mentor.bio }}{% endif %}</textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Location</label>
                        <input type="text" name="location" value="{% if mentor %}{{ mentor.location }}{% endif %}">
                    </div>
                    <div class="form-group">
                        <label>Years of Experience</label>
                        <input type="number" min="0" name="years_of_experience" value="{% if mentor %}{{ mentor.years_of_experience }}{% else %}0{% endif %}">
                    </div>
                    <div class="form-group">
              <div>
    <label><strong>Select Skills</strong></label><br>

    {% for skill in skills %}
        <label style="display:block; margin-bottom:6px;">
            <input type="checkbox" name="skills" value="{{ skill.id }}"
                {% if mentor and skill in mentor.skills.all %}checked{% endif %}>
            {{ skill.name }}
        </label>
    {% endfor %}
</div>


                    
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Hourly Rate ($)</label>
                        <input type="number" step="0.01" name="hourly_rate" value="{% if mentor %}{{ mentor.hourly_rate }}{% else %}0{% endif %}">
                    </div>
                    <div class="form-group">
                        <label>Session Duration (minutes)</label>
                        <input type="number" min="30" max="180" step="15" name="session_duration" value="{% if mentor %}{{ mentor.session_duration }}{% else %}60{% endif %}">
                    </div>
                </div>
                <div class="form-group">
                    <label>Available For</label>
                    <input type="text" name="available_for" value="{% if mentor %}{{ mentor.available_for }}{% endif %}">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>LinkedIn URL</label>
                        <input type="text" name="linkedin_url" value="{% if mentor %}{{ mentor.linkedin_url }}{% endif %}">
                    </div>
                    <div class="form-group">
                        <label>GitHub URL</label>
                        <input type="text" name="github_url" value="{% if mentor %}{{ mentor.github_url }}{% endif %}">
                    </div>
                </div>
                

                <div class="actions">
                    <button type="submit" class="btn btn-primary">Save</button>
                    <a href="{% url 'admin_mentors' %}" class="btn-link">Cancel</a>
                </div>
            </form>
        {% endif %}
    </div>
</body>
</html>


