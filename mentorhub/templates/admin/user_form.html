<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if confirm_delete %}Delete User{% else %}Edit User{% endif %}</title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/home.css' %}">
    <style>
        body { background: #f5f5f5; }
        .container { max-width: 700px; margin: 20px auto; background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,0.06); }
        label { display:block; margin:10px 0 6px; color:#333; }
        input[type="text"], input[type="email"], input[type="checkbox"] { padding:10px; border:1px solid #ddd; border-radius:4px; }
        input[type="text"], input[type="email"] { width:100%; }
        .actions { margin-top: 16px; display:flex; gap:10px; }
        .btn { padding:8px 12px; border:none; border-radius:4px; cursor:pointer; }
        .btn-primary { background:#007bff; color:#fff; }
        .btn-danger { background:#dc3545; color:#fff; }
        .btn-link { text-decoration:none; color:#007bff; }
    </style>
</head>
<body>
    <div class="container">
        <div><a href="{% url 'admin_users' %}" class="btn-link">‚Üê Back to Users</a></div>

        {% if confirm_delete %}
            <h1>Delete User</h1>
            <p>Are you sure you want to delete user <strong>{{ user_obj.username }}</strong>? This will remove the user and all related data.</p>
            <form method="post">{% csrf_token %}
                <div class="actions">
                    <button type="submit" class="btn btn-danger">Delete</button>
                    <a href="{% url 'admin_users' %}" class="btn-link">Cancel</a>
                </div>
            </form>
        {% else %}
            <h1>Edit User</h1>
            <form method="post">{% csrf_token %}
                <label>Username</label>
                <input type="text" name="username" value="{{ user_obj.username }}">
                <label>Email</label>
                <input type="email" name="email" value="{{ user_obj.email }}">
                <label>Name</label>
                <input type="text" name="first_name" value="{{ user_obj.first_name }}">
                <label><input type="checkbox" name="is_staff" {% if user_obj.is_staff %}checked{% endif %}> Is Staff (admin)</label>
                <div class="actions">
                    <button type="submit" class="btn btn-primary">Save</button>
                    <a href="{% url 'admin_users' %}" class="btn-link">Cancel</a>
                </div>
            </form>
        {% endif %}
    </div>
</body>
</html>


