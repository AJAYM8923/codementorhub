<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if confirm_delete %}Delete User{% else %}Edit User{% endif %}</title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/admin.css' %}">
</head>
<body>
    <div class="layout">
        {% include 'admin/partials/sidebar.html' %}
        <main class="content">
        <a href="{% url 'admin_users' %}" class="btn-link">‚Üê Back to Users</a>

        {% if confirm_delete %}
            <h1>Delete User</h1>
            <div class="section" style="border-left: 3px solid #ef4444;">
                <p>Are you sure you want to delete user <strong>{{ user_obj.username }}</strong>? This will remove the user and all related data.</p>
                <form method="post">
                    {% csrf_token %}
                    <div class="actions">
                        <button type="submit" class="btn btn-danger">Delete User</button>
                        <a href="{% url 'admin_users' %}" class="btn-link">Cancel</a>
                    </div>
                </form>
            </div>
        {% else %}
            <h1>Edit User</h1>
            <div class="section" style="max-width: 700px;">
                <form method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="id_username">Username</label>
                        <input type="text" id="id_username" name="username" value="{{ user_obj.username }}" required>
                    </div>
                    <div class="form-group">
                        <label for="id_email">Email</label>
                        <input type="email" id="id_email" name="email" value="{{ user_obj.email }}">
                    </div>
                    <div class="form-group">
                        <label for="id_first_name">Name</label>
                        <input type="text" id="id_first_name" name="first_name" value="{{ user_obj.first_name }}">
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" name="is_staff" {% if user_obj.is_staff %}checked{% endif %}> 
                            Is Staff (Admin Access)
                        </label>
                    </div>
                    <div class="actions">
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                        <a href="{% url 'admin_users' %}" class="btn-link">Cancel</a>
                    </div>
                </form>
            </div>
        {% endif %}
        </main>
    </div>
</body>
</html>


